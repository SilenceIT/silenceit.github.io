<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¼‚æ­¥ä»»åŠ¡</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/assets/style.9e72c04d.css" as="style">
    <script type="module" src="/assets/app.89dee958.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.61464c5a.js">
  <link rel="modulepreload" href="/assets/chunks/theme.dede4d33.js">
  <link rel="modulepreload" href="/assets/chunks/data-ahua.fd10a779.js">
  <link rel="modulepreload" href="/assets/view_boot_client_client-04.md.0de855b4.lean.js">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="msapplication-TileImage" content="/favicon.ico">
  <meta name="baidu-site-verification" content="codeva-Whjnr38WFE">
  <link rel="apple-touch-icon" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#3eaf7c">
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css">
  <script src="https://hm.baidu.com/hm.js?8092fab2f2adfc7938ba5b8885aef5b4"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <link rel="manifest" href="/manifest.webmanifest">
  <script id="vite-plugin-pwa:register-sw" src="/registerSW.js"></script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b2cf3e0b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8616af1></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8616af1> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b2cf3e0b data-v-7e5bc4a5><div class="VPNavBar" data-v-7e5bc4a5 data-v-94c81dcc><div class="container" data-v-94c81dcc><div class="title" data-v-94c81dcc><div class="VPNavBarTitle" data-v-94c81dcc data-v-f4ef19a3><a class="title" href="/" data-v-f4ef19a3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-6db2186b><!--]--><!--[-->é¡¹ç›®ç¬”è®°æ¨¡æ¿<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-94c81dcc><div class="curtain" data-v-94c81dcc></div><div class="content-body" data-v-94c81dcc><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-94c81dcc><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-94c81dcc data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/view/base/base-01" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->é¡¹ç›®æ­å»º<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/view/front/front-01" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->è¿›é˜¶é…ç½®<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-94c81dcc data-v-f6a63727><label title="toggle dark mode" data-v-f6a63727 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-94c81dcc data-v-0394ad82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="github" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-94c81dcc data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>å¤–è§‚</p><div class="appearance-action" data-v-40855f84><label title="toggle dark mode" data-v-40855f84 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="github" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-94c81dcc data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-b2cf3e0b data-v-a494bd1d><div class="VPDoc has-aside" data-v-a494bd1d data-v-c4b0d3cf><!--[--><!--]--><div class="container" data-v-c4b0d3cf><div class="aside" data-v-c4b0d3cf><div class="aside-curtain" data-v-c4b0d3cf></div><div class="aside-container" data-v-c4b0d3cf><div class="aside-content" data-v-c4b0d3cf><div class="VPDocAside" data-v-c4b0d3cf data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>æœ¬é¡µç›®å½•</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-9a431c33><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c4b0d3cf><div class="content-container" data-v-c4b0d3cf><!--[--><!--]--><!----><main class="main" data-v-c4b0d3cf><div style="position:relative;" class="vp-doc _view_boot_client_client-04" data-v-c4b0d3cf><div><h1 id="å¼‚æ­¥ä»»åŠ¡" tabindex="-1">å¼‚æ­¥ä»»åŠ¡ <a class="header-anchor" href="#å¼‚æ­¥ä»»åŠ¡" aria-label="Permalink to &quot;å¼‚æ­¥ä»»åŠ¡&quot;">â€‹</a></h1><h2 id="_1-1-ğŸŒ¼ã€çº¿ç¨‹æ± çš„å¥½å¤„ã€‘" tabindex="-1">1.1 ğŸŒ¼ã€çº¿ç¨‹æ± çš„å¥½å¤„ã€‘ <a class="header-anchor" href="#_1-1-ğŸŒ¼ã€çº¿ç¨‹æ± çš„å¥½å¤„ã€‘" aria-label="Permalink to &quot;1.1 ğŸŒ¼ã€çº¿ç¨‹æ± çš„å¥½å¤„ã€‘&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">ä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥å¸¦æ¥ä»¥ä¸‹å¥½å¤„</p><ul><li>é™ä½èµ„æºæ¶ˆè€—ã€‚é™ä½é¢‘ç¹åˆ›å»ºã€é”€æ¯çº¿ç¨‹å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œå¤ç”¨å·²åˆ›å»ºçº¿ç¨‹</li><li>é™ä½ä½¿ç”¨å¤æ‚åº¦ã€‚å°†ä»»åŠ¡çš„æäº¤å’Œæ‰§è¡Œè¿›è¡Œè§£è€¦</li><li>æˆ‘ä»¬åªéœ€è¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œç„¶åå¾€é‡Œé¢æäº¤ä»»åŠ¡å°±è¡Œ</li><li>å…·ä½“æ‰§è¡Œæµç¨‹ç”±çº¿ç¨‹æ± è‡ªå·±ç®¡ç†ï¼Œé™ä½ä½¿ç”¨å¤æ‚åº¦</li><li>æé«˜çº¿ç¨‹å¯ç®¡ç†æ€§ã€‚èƒ½å®‰å…¨æœ‰æ•ˆçš„ç®¡ç†çº¿ç¨‹èµ„æºï¼Œé¿å…ä¸åŠ é™åˆ¶æ— é™ç”³è¯·é€ æˆèµ„æºè€—å°½é£é™©</li><li>æé«˜å“åº”é€Ÿåº¦ã€‚ä»»åŠ¡åˆ°è¾¾åï¼Œç›´æ¥å¤ç”¨å·²åˆ›å»ºå¥½çš„çº¿ç¨‹æ‰§è¡Œ</li></ul></div><div class="tip custom-block"><p class="custom-block-title">ThreadPoolExecutor éƒ½æœ‰å“ªäº›æ ¸å¿ƒå‚æ•°</p><ul><li>æ ¸å¿ƒçº¿ç¨‹æ•°ï¼ˆcorePoolSizeï¼‰</li><li>æœ€å¤§çº¿ç¨‹æ•°ï¼ˆmaximumPoolSizeï¼‰</li><li>ç©ºé—²çº¿ç¨‹è¶…æ—¶æ—¶é—´ï¼ˆkeepAliveTimeï¼‰</li><li>æ—¶é—´å•ä½ï¼ˆunitï¼‰</li><li>é˜»å¡é˜Ÿåˆ—ï¼ˆworkQueueï¼‰</li><li>æ‹’ç»ç­–ç•¥ï¼ˆhandlerï¼‰</li><li>çº¿ç¨‹å·¥å‚ï¼ˆThreadFactoryï¼‰</li></ul></div><h2 id="_1-2ğŸŒ¼ã€ä»»åŠ¡æ‹’ç»ç­–ç•¥ã€‘" tabindex="-1">1.2ğŸŒ¼ã€ä»»åŠ¡æ‹’ç»ç­–ç•¥ã€‘ <a class="header-anchor" href="#_1-2ğŸŒ¼ã€ä»»åŠ¡æ‹’ç»ç­–ç•¥ã€‘" aria-label="Permalink to &quot;1.2ğŸŒ¼ã€ä»»åŠ¡æ‹’ç»ç­–ç•¥ã€‘&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">æ¸©é¦¨æç¤º</p><ul><li>AbortPolicyï¼šä¸¢å¼ƒä»»åŠ¡ï¼ŒæŠ›è¿è¡Œæ—¶å¼‚å¸¸</li><li>CallerRunsPolicyï¼šç”±è°ƒç”¨è€…çº¿ç¨‹å»æ‰§è¡Œ</li><li>DiscardPolicyï¼šç›´æ¥ä¸¢å¼ƒä»»åŠ¡æœ¬èº«</li><li>DiscardOldestPolicyï¼šä»é˜Ÿåˆ—ä¸­è¸¢å‡ºæœ€å…ˆè¿›å…¥é˜Ÿåˆ—ï¼ˆæœ€åä¸€ä¸ªæ‰§è¡Œï¼‰çš„ä»»åŠ¡</li></ul></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">1. åˆ¤æ–­çº¿ç¨‹æ± çš„çŠ¶æ€ï¼Œå¦‚æœä¸æ˜¯RUNNINGçŠ¶æ€ï¼Œç›´æ¥æ‰§è¡Œæ‹’ç»ç­–ç•¥</span></span>
<span class="line"><span style="color:#babed8;">2. å¦‚æœ å½“å‰çº¿ç¨‹æ•° &lt; æ ¸å¿ƒçº¿ç¨‹æ± ï¼Œåˆ™æ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æäº¤çš„ä»»åŠ¡</span></span>
<span class="line"><span style="color:#babed8;">3. å¦‚æœ å½“å‰çº¿ç¨‹æ•° &gt; æ ¸å¿ƒçº¿ç¨‹æ•°ä¸”ä»»åŠ¡é˜Ÿåˆ—æ²¡æ»¡ï¼Œåˆ™å°†ä»»åŠ¡æ”¾å…¥é˜»å¡é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#babed8;">4. å¦‚æœ æ ¸å¿ƒçº¿ç¨‹æ±  &lt; å½“å‰çº¿ç¨‹æ± æ•° &lt; æœ€å¤§çº¿ç¨‹æ•°ä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™åˆ›å»ºæ–°çš„çº¿ç¨‹æ‰§è¡Œæäº¤çš„ä»»åŠ¡</span></span>
<span class="line"><span style="color:#babed8;">5. å¦‚æœ å½“å‰çº¿ç¨‹æ•° &gt; æœ€å¤§çº¿ç¨‹æ•°ä¸”é˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™æ‰§è¡Œæ‹’ç»ç­–ç•¥æ‹’ç»è¯¥ä»»åŠ¡</span></span></code></pre></div><h2 id="_1-3ğŸŒ¼ã€çº¿ç¨‹é…ç½®æ–‡ä»¶ã€‘" tabindex="-1">1.3ğŸŒ¼ã€çº¿ç¨‹é…ç½®æ–‡ä»¶ã€‘ <a class="header-anchor" href="#_1-3ğŸŒ¼ã€çº¿ç¨‹é…ç½®æ–‡ä»¶ã€‘" aria-label="Permalink to &quot;1.3ğŸŒ¼ã€çº¿ç¨‹é…ç½®æ–‡ä»¶ã€‘&quot;">â€‹</a></h2><div class="language-yml"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># çº¿ç¨‹æ± é…ç½®</span></span>
<span class="line"><span style="color:#F07178;">thread</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">corePoolSize</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">${silence.thread.corePoolSize}</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># æ ¸å¿ƒçº¿ç¨‹æ± å¤§å°</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">maxPoolSize</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">${silence.thread.maxPoolSize}</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># æœ€å¤§å¯åˆ›å»ºçš„çº¿ç¨‹æ•°</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">queueCapacity</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">${silence.thread.queueCapacity}</span><span style="color:#BABED8;">   </span><span style="color:#676E95;font-style:italic;"># é˜Ÿåˆ—æœ€å¤§é•¿åº¦</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">keepAliveSeconds</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">${silence.thread.keepAliveSeconds}</span><span style="color:#BABED8;">   </span><span style="color:#676E95;font-style:italic;"># çº¿ç¨‹æ± ç»´æŠ¤çº¿ç¨‹æ‰€å…è®¸çš„ç©ºé—²æ—¶é—´</span></span></code></pre></div><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">package</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">properties</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">io</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">swagger</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotations</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">lombok</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Data</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">boot</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">context</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">properties</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ConfigurationProperties</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">stereotype</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Component</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#F78C6C;font-style:italic;">@author</span><span style="color:#676E95;font-style:italic;"> SilenceLambs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * @apiNote è¯»å–çº¿ç¨‹æ± é…ç½®ä¿¡æ¯</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Data</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Component</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ConfigurationProperties</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">prefix</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">ThreadProperties</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ ¸å¿ƒçº¿ç¨‹æ± å¤§å° </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> corePoolSize</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æœ€å¤§å¯åˆ›å»ºçš„çº¿ç¨‹æ•°</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> maxPoolSize</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">é˜Ÿåˆ—æœ€å¤§é•¿åº¦</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> queueCapacity</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">çº¿ç¨‹æ± ç»´æŠ¤çº¿ç¨‹æ‰€å…è®¸çš„ç©ºé—²æ—¶é—´</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> keepAliveSeconds</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><ul><li><strong>çº¿ç¨‹æ± é…ç½®ğŸŒ³</strong> <span class="VPBadge tip" data-v-350d3852><!--[-->ThreadPoolConfig.java<!--]--></span></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">package</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">framework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">config</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ThreadUtils</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">framework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">properties</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ThreadProperties</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">apache</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">commons</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">lang3</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">BasicThreadFactory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">context</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Bean</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">context</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Configuration</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">scheduling</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ThreadPoolTaskExecutor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">javax</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Resource</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ScheduledExecutorService</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ScheduledThreadPoolExecutor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ThreadPoolExecutor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#F78C6C;font-style:italic;">@author</span><span style="color:#676E95;font-style:italic;"> SilenceLambs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * @apiNote çº¿ç¨‹æ± é…ç½®ä¿¡æ¯</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Configuration</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">ThreadPoolConfig</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Resource</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">ThreadProperties</span><span style="color:#BABED8;"> threadProperties</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * åˆ›å»ºå¹¶é…ç½®ä¸€ä¸ªçº¿ç¨‹æ± æ‰§è¡Œå™¨ Beanã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@return</span><span style="color:#676E95;font-style:italic;"> ThreadPoolTaskExecutor é…ç½®å¥½çš„çº¿ç¨‹æ± æ‰§è¡Œå™¨å®ä¾‹ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Bean</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">threadPoolExecutor</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">ThreadPoolTaskExecutor</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">threadPoolExecutor</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">ThreadPoolTaskExecutor</span><span style="color:#BABED8;"> threadPoolTaskExecutor </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ThreadPoolTaskExecutor</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½®çº¿ç¨‹æ± æœ€å¤§å¤§å°</span></span>
<span class="line"><span style="color:#BABED8;">    threadPoolTaskExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setMaxPoolSize</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">threadProperties</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getMaxPoolSize</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½®çº¿ç¨‹æ± æ ¸å¿ƒå¤§å°</span></span>
<span class="line"><span style="color:#BABED8;">    threadPoolTaskExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setCorePoolSize</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">threadProperties</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCorePoolSize</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½®é˜Ÿåˆ—å®¹é‡</span></span>
<span class="line"><span style="color:#BABED8;">    threadPoolTaskExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setQueueCapacity</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">threadProperties</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getQueueCapacity</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½®çº¿ç¨‹çš„ç©ºé—²æ—¶é—´</span></span>
<span class="line"><span style="color:#BABED8;">    threadPoolTaskExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setKeepAliveSeconds</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">threadProperties</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getKeepAliveSeconds</span><span style="color:#89DDFF;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½®æ‹’ç»ç­–ç•¥ï¼Œä½¿ç”¨CallerRunsPolicyç­–ç•¥</span></span>
<span class="line"><span style="color:#BABED8;">    threadPoolTaskExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRejectedExecutionHandler</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> ThreadPoolExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CallerRunsPolicy</span><span style="color:#89DDFF;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> threadPoolTaskExecutor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * åˆ›å»ºä¸€ä¸ªå®šæ—¶æ‰§è¡ŒæœåŠ¡ï¼Œç”¨äºå®‰æ’ä»»åŠ¡çš„æ‰§è¡Œã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@return</span><span style="color:#676E95;font-style:italic;"> è¿”å›ä¸€ä¸ªé…ç½®å¥½çš„ScheduledExecutorServiceå®ä¾‹ï¼Œç”¨äºå®šæ—¶æˆ–å‘¨æœŸæ€§æ‰§è¡Œä»»åŠ¡ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Bean</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scheduledExecutorService</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">ScheduledExecutorService</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">scheduledExecutorService</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºä¸€ä¸ªåŸºæœ¬çº¿ç¨‹å·¥å‚ï¼Œå¹¶é…ç½®çº¿ç¨‹åæ ¼å¼å’Œè®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">BasicThreadFactory</span><span style="color:#BABED8;"> basicThreadFactory </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> BasicThreadFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Builder</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">namingPattern</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">schedule-pool-%d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">daemon</span><span style="color:#89DDFF;">(true).</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨CallerRunsPolicyå¤„ç†ä»»åŠ¡é˜Ÿåˆ—æ»¡æ—¶çš„æƒ…å†µï¼Œå³å½“é˜Ÿåˆ—æ»¡æ—¶ï¼Œç”±è°ƒç”¨è€…çº¿ç¨‹æ‰§è¡Œä»»åŠ¡</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">ThreadPoolExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">CallerRunsPolicy</span><span style="color:#BABED8;"> callerRunsPolicy </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> ThreadPoolExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">CallerRunsPolicy</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºä¸€ä¸ªå®šæ—¶çº¿ç¨‹æ± ï¼Œå®šåˆ¶çº¿ç¨‹å·¥å‚å’Œå¼‚å¸¸å¤„ç†å™¨</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ScheduledThreadPoolExecutor</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">threadProperties</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCorePoolSize</span><span style="color:#89DDFF;">(),</span><span style="color:#BABED8;"> basicThreadFactory</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> callerRunsPolicy</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#C792EA;">protected</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">afterExecute</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Runnable</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">r</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">Throwable</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">t</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        super</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">afterExecute</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">r</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// åœ¨ä»»åŠ¡æ‰§è¡Œåè¿›è¡Œé¢å¤–çš„å¤„ç†ï¼Œä¾‹å¦‚æ‰“å°ä»»åŠ¡æ‰§è¡Œä¸­äº§ç”Ÿçš„å¼‚å¸¸</span></span>
<span class="line"><span style="color:#BABED8;">        ThreadUtils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">printException</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">r</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><ul><li><strong>çº¿ç¨‹å·¥å…·ç±»ğŸŒ³</strong> <span class="VPBadge tip" data-v-350d3852><!--[-->ThreadUtils.java<!--]--></span></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">package</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">utils</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">exception</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">base</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">UtilException</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">lombok</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">extern</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">slf4j</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Slf4j</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">*</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#F78C6C;font-style:italic;">@author</span><span style="color:#676E95;font-style:italic;"> SilenceLamb</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * @apiNote çº¿ç¨‹å·¥å…·ç±»</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Slf4j</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">ThreadUtils</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * ä½¿å½“å‰æ‰§è¡Œçº¿ç¨‹æš‚åœæŒ‡å®šçš„æ¯«ç§’æ•°ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">milliseconds</span><span style="color:#676E95;font-style:italic;"> æŒ‡å®šçº¿ç¨‹æš‚åœçš„æ¯«ç§’æ•°ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@throws</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#FFCB6B;font-style:italic;">UtilException</span><span style="color:#676E95;font-style:italic;"> å¦‚æœçº¿ç¨‹åœ¨ç¡çœ æ—¶è¢«ä¸­æ–­ï¼Œåˆ™æŠ›å‡ºUtilExceptionå¼‚å¸¸ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">long</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">milliseconds</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      Thread</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">milliseconds</span><span style="color:#89DDFF;">);</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æš‚åœå½“å‰çº¿ç¨‹æŒ‡å®šçš„æ¯«ç§’æ•°</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">InterruptedException</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      e</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">printStackTrace</span><span style="color:#89DDFF;">();</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æ‰“å°çº¿ç¨‹ä¸­æ–­å¼‚å¸¸çš„å †æ ˆè·Ÿè¸ª</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">UtilException</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">çº¿ç¨‹ä¸­æ–­</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æŠ›å‡ºçº¿ç¨‹ä¸­æ–­å¼‚å¸¸çš„è‡ªå®šä¹‰å¼‚å¸¸</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * å…³é—­æŒ‡å®šçš„çº¿ç¨‹æ± ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * å¯¹äºç»™å®šçš„ExecutorServiceçº¿ç¨‹æ± ï¼Œæ­¤æ–¹æ³•é¦–å…ˆå°è¯•æ­£å¸¸å…³é—­çº¿ç¨‹æ± ï¼Œç­‰å¾…æœ€å¤š120ç§’ä»¥ä½¿å…¶å®Œæˆæ‰€æœ‰ä»»åŠ¡ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * å¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…çº¿ç¨‹æ± æœªèƒ½å…³é—­ï¼Œåˆ™å°è¯•å¼ºåˆ¶å…³é—­ï¼Œå¹¶å†æ¬¡ç­‰å¾…120ç§’ä»¥ç¡®ä¿çº¿ç¨‹æ± å·²å…³é—­ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * å¦‚æœçº¿ç¨‹æ± åœ¨ä¸¤æ¬¡å°è¯•åä»æœªå…³é—­ï¼Œåˆ™è®°å½•æ—¥å¿—å¹¶æŠ›å‡ºUtilExceptionå¼‚å¸¸ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * å¦‚æœåœ¨ç­‰å¾…çº¿ç¨‹æ± å…³é—­çš„è¿‡ç¨‹ä¸­å½“å‰çº¿ç¨‹è¢«ä¸­æ–­ï¼Œåˆ™åŒæ ·è®°å½•æ—¥å¿—å¹¶æŠ›å‡ºUtilExceptionå¼‚å¸¸ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">pool</span><span style="color:#676E95;font-style:italic;"> è¦å…³é—­çš„ExecutorServiceçº¿ç¨‹æ± ã€‚å¦‚æœä¸ºnullæˆ–å·²ç»å…³é—­ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">shutdown</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ExecutorService</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">pool</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">pool </span><span style="color:#89DDFF;">!=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">!</span><span style="color:#BABED8;">pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isShutdown</span><span style="color:#89DDFF;">())</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">shutdown</span><span style="color:#89DDFF;">();</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å°è¯•æ­£å¸¸å…³é—­çº¿ç¨‹æ± </span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#BABED8;">pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">awaitTermination</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">120</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> TimeUnit</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">SECONDS</span><span style="color:#89DDFF;">))</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// ç­‰å¾…çº¿ç¨‹æ± æœ€å¤š120ç§’æ¥å®Œæˆæ‰€æœ‰ä»»åŠ¡</span></span>
<span class="line"><span style="color:#BABED8;">          pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">shutdownNow</span><span style="color:#89DDFF;">();</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…çº¿ç¨‹æ± æœªèƒ½å…³é—­ï¼Œåˆ™å°è¯•å¼ºåˆ¶å…³é—­</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#BABED8;">pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">awaitTermination</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">120</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> TimeUnit</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">SECONDS</span><span style="color:#89DDFF;">))</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å†æ¬¡ç­‰å¾…120ç§’ï¼Œç¡®ä¿çº¿ç¨‹æ± å·²å…³é—­</span></span>
<span class="line"><span style="color:#BABED8;">            log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">çº¿ç¨‹æ± æœªç»ˆæ­¢</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">UtilException</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">çº¿ç¨‹æ± æœªç»ˆæ­¢</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">InterruptedException</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">ie</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å¦‚æœåœ¨ç­‰å¾…è¿‡ç¨‹ä¸­å½“å‰çº¿ç¨‹è¢«ä¸­æ–­</span></span>
<span class="line"><span style="color:#BABED8;">        pool</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">shutdownNow</span><span style="color:#89DDFF;">();</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å¼ºåˆ¶å…³é—­çº¿ç¨‹æ± </span></span>
<span class="line"><span style="color:#BABED8;">        Thread</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currentThread</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">interrupt</span><span style="color:#89DDFF;">();</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// é‡æ–°è®¾ç½®ä¸­æ–­çŠ¶æ€</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">UtilException</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">çº¿ç¨‹ä¸­æ–­</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * æ‰“å°å¼‚å¸¸ä¿¡æ¯ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * è¯¥æ–¹æ³•é¦–å…ˆæ£€æŸ¥ä¼ å…¥çš„Throwableå¯¹è±¡tæ˜¯å¦ä¸ºnullï¼Œå¦‚æœä¸ºnullä¸”Runnableå¯¹è±¡rå®é™…ä¸Šæ˜¯Futureç±»å‹ï¼Œåˆ™å°è¯•è·å–Futureçš„ç»“æœï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * å¦‚æœè·å–è¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™å°†è¿™äº›å¼‚å¸¸èµ‹å€¼ç»™tã€‚æœ€åï¼Œå¦‚æœtä¸ä¸ºnullï¼Œåˆ™å°†å¼‚å¸¸ä¿¡æ¯è®°å½•åˆ°æ—¥å¿—ä¸­ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">r</span><span style="color:#676E95;font-style:italic;"> è¦æ‰§è¡Œçš„Runnableå¯¹è±¡æˆ–Futureä»»åŠ¡ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">t</span><span style="color:#676E95;font-style:italic;"> é¢„æœŸæŠ›å‡ºçš„Throwableå¯¹è±¡ï¼Œå¦‚æœä¸ºnullä¸”ræ˜¯Futureç±»å‹ï¼Œåˆ™å°è¯•ä»Futureä¸­è·å–å¼‚å¸¸ä¿¡æ¯ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">printException</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Runnable</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">r</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">Throwable</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">t</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¦‚æœå¼‚å¸¸å¯¹è±¡ä¸ºç©ºï¼Œå¹¶ä¸”ä¼ å…¥çš„ä»»åŠ¡æ˜¯Futureç±»å‹ï¼Œåˆ™å°è¯•ä»Futureä¸­è·å–å¼‚å¸¸ä¿¡æ¯</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">t </span><span style="color:#89DDFF;">==</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> r </span><span style="color:#89DDFF;">instanceof</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">Future</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;font-style:italic;">?</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#C792EA;">Future</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C792EA;">?</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> future </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Future</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;font-style:italic;">?</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#BABED8;"> r</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// å¦‚æœFutureå·²å®Œæˆï¼Œå°è¯•è·å–ç»“æœ</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">future</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isDone</span><span style="color:#89DDFF;">())</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">          future</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">CancellationException</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">ce</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//æ•è·å–æ¶ˆå¼‚å¸¸ï¼Œè®¾ç½®ä¸ºå½“å‰å¼‚å¸¸</span></span>
<span class="line"><span style="color:#BABED8;">        t </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> ce</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ExecutionException</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">ee</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//æ•è·æ‰§è¡Œå¼‚å¸¸ï¼Œè·å–çœŸæ­£çš„å¼‚å¸¸åŸå› </span></span>
<span class="line"><span style="color:#BABED8;">        t </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> ee</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCause</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">InterruptedException</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">ie</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//æ•è·ä¸­æ–­å¼‚å¸¸ï¼Œé‡æ–°è®¾ç½®çº¿ç¨‹ä¸­æ–­çŠ¶æ€</span></span>
<span class="line"><span style="color:#BABED8;">        Thread</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">currentThread</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">interrupt</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¦‚æœå­˜åœ¨å¼‚å¸¸ï¼Œåˆ™è®°å½•å¼‚å¸¸ä¿¡æ¯</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">t </span><span style="color:#89DDFF;">!=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">t</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getMessage</span><span style="color:#89DDFF;">(),</span><span style="color:#BABED8;"> t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><ul><li><strong>å¼‚æ­¥ä»»åŠ¡ç®¡ç†å™¨ğŸŒ³</strong> <span class="VPBadge tip" data-v-350d3852><!--[-->AsyncManager.java<!--]--></span></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">package</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">framework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">async</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">manager</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">common</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ThreadUtils</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">io</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">swagger</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotations</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">slf4j</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Logger</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">slf4j</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">LoggerFactory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">stereotype</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Service</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">javax</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">PreDestroy</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">javax</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Resource</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">TimerTask</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ScheduledExecutorService</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">concurrent</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">TimeUnit</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#F78C6C;font-style:italic;">@author</span><span style="color:#676E95;font-style:italic;"> SilenceLamb</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * @apiNote å¼‚æ­¥ä»»åŠ¡ç®¡ç†å™¨</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Service</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">asyncManager</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">AsyncManager</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">Logger</span><span style="color:#BABED8;"> log </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> LoggerFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getLogger</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ShutDown-ThreadPool</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">åˆå§‹åŒ–æ“ä½œå»¶è¿Ÿ10æ¯«ç§’</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> INIT_DELAY_TIME </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ“ä½œå»¶è¿Ÿ10æ¯«ç§’</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> OPERATE_DELAY_TIME </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">æ“ä½œå»¶è¿Ÿ10æ¯«ç§’</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">TimeUnit</span><span style="color:#BABED8;"> TIMEUNIT </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> TimeUnit</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">SECONDS</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">ApiModelProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">å¼‚æ­¥æ“ä½œä»»åŠ¡è°ƒåº¦çº¿ç¨‹æ± </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Resource</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">name</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scheduledExecutorService</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">ScheduledExecutorService</span><span style="color:#BABED8;"> executor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * æ‰§è¡Œå®šæ—¶ä»»åŠ¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">task</span><span style="color:#676E95;font-style:italic;"> è¦æ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡å¯¹è±¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *             è¯¥æ–¹æ³•å°†æŒ‡å®šçš„å®šæ—¶ä»»åŠ¡æäº¤ç»™ä¸€ä¸ªæ‰§è¡Œå™¨ï¼ˆexecutorï¼‰ï¼Œå¹¶åœ¨æŒ‡å®šçš„å»¶è¿Ÿæ—¶é—´åæ‰§è¡Œè¯¥ä»»åŠ¡ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *             å»¶è¿Ÿæ—¶é—´ç”±ç±»çº§åˆ«çš„å¸¸é‡OPERATE_DELAY_TIMEæŒ‡å®šï¼Œå•ä½ä¸ºç§’ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">execute</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TimerTask</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">task</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨executorå®‰æ’ä»»åŠ¡åœ¨æŒ‡å®šå»¶è¿Ÿåæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#BABED8;">    executor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">schedule</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">task</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> OPERATE_DELAY_TIME</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> TimeUnit</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">SECONDS</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * ä½¿ç”¨å›ºå®šå»¶è¿Ÿæ—¶é—´å®‰æ’ä»»åŠ¡æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * è¯¥æ–¹æ³•ä¼šå®‰æ’æŒ‡å®šçš„ä»»åŠ¡ä»¥é»˜è®¤çš„åˆå§‹å»¶è¿Ÿå’Œæ“ä½œå»¶è¿Ÿé‡å¤æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">task</span><span style="color:#676E95;font-style:italic;"> è¦å®‰æ’æ‰§è¡Œçš„TimerTaskä»»åŠ¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">scheduleAtFixedRate</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TimerTask</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">task</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨å®šæ—¶å™¨æ‰§è¡Œå™¨ä»¥å›ºå®šçš„å»¶è¿Ÿæ—¶é—´å®‰æ’ä»»åŠ¡æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#BABED8;">    executor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">scheduleAtFixedRate</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">task</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> INIT_DELAY_TIME</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> OPERATE_DELAY_TIME</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> TIMEUNIT</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * åœæ­¢ä»»åŠ¡çº¿ç¨‹æ± </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">PreDestroy</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">shutdown</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">====å…³é—­åå°ä»»åŠ¡ä»»åŠ¡çº¿ç¨‹æ± ====</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">    ThreadUtils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">shutdown</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">executor</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="_1-4ğŸŒ¼ã€å¼‚æ­¥ä»»åŠ¡å·¥å‚ã€‘" tabindex="-1">1.4ğŸŒ¼ã€å¼‚æ­¥ä»»åŠ¡å·¥å‚ã€‘ <a class="header-anchor" href="#_1-4ğŸŒ¼ã€å¼‚æ­¥ä»»åŠ¡å·¥å‚ã€‘" aria-label="Permalink to &quot;1.4ğŸŒ¼ã€å¼‚æ­¥ä»»åŠ¡å·¥å‚ã€‘&quot;">â€‹</a></h2><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">package</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">framework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">async</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">factory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">slf4j</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Logger</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">slf4j</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">LoggerFactory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">java</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">util</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">TimerTask</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#F78C6C;font-style:italic;">@author</span><span style="color:#676E95;font-style:italic;"> Silence Lamb</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * @apiNote å¼‚æ­¥å·¥å‚ï¼ˆäº§ç”Ÿä»»åŠ¡ç”¨ï¼‰</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">TaskFactory</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">Logger</span><span style="color:#BABED8;"> USER_LOGGER </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> LoggerFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getLogger</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Login-TaskFactory</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * è®°å½•ç™»å½•ä¿¡æ¯çš„TimerTaskã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">username</span><span style="color:#676E95;font-style:italic;"> ç”¨æˆ·åï¼Œç™»å½•æ“ä½œçš„ç”¨æˆ·æ ‡è¯†ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">status</span><span style="color:#676E95;font-style:italic;"> ç™»å½•çŠ¶æ€ï¼Œè¡¨ç¤ºç™»å½•æ“ä½œçš„ç»“æœï¼ˆå¦‚æˆåŠŸã€å¤±è´¥ç­‰ï¼‰ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">message</span><span style="color:#676E95;font-style:italic;"> æ“ä½œæ¶ˆæ¯ï¼Œæä¾›å…³äºç™»å½•æ“ä½œçš„é¢å¤–ä¿¡æ¯ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">args</span><span style="color:#676E95;font-style:italic;"> å¯å˜å‚æ•°ï¼Œç”¨äºæ‰©å±•æ¶ˆæ¯æ ¼å¼åŒ–æ—¶éœ€è¦çš„å‚æ•°ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#F78C6C;font-style:italic;">@return</span><span style="color:#676E95;font-style:italic;"> è¿”å›ä¸€ä¸ªTimerTaskå®ä¾‹ï¼Œè¯¥å®ä¾‹åœ¨æ‰§è¡Œæ—¶ä¼šè®°å½•ç™»å½•ä¿¡æ¯ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">static</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">TimerTask</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">recordLoginInfo</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">String</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">username</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">String</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">status</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">String</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">message</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">final</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">Object</span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">args</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">TimerTask</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨æ—¥å¿—è®°å½•ç”¨æˆ·ç™»å½•ä¿¡æ¯</span></span>
<span class="line"><span style="color:#BABED8;">        USER_LOGGER</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ç”¨æˆ·: {}</span><span style="color:#BABED8;">\t</span><span style="color:#C3E88D;">,ç™»å½•çŠ¶æ€: {}</span><span style="color:#BABED8;">\t</span><span style="color:#C3E88D;">,æ“ä½œæ¶ˆæ¯: {}</span><span style="color:#BABED8;">\t</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> username</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> status</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">package</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">app</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">controller</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">test</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">framework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">async</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">factory</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">TaskFactory</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">com</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">silence</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">framework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">async</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">manager</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">AsyncManager</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">web</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">bind</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RequestMapping</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">org</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">springframework</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">web</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">bind</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RestController</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">import</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">javax</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">annotation</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Resource</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#F78C6C;font-style:italic;">@author</span><span style="color:#676E95;font-style:italic;"> SilenceLambs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * @apiNote æµ‹è¯•æ§åˆ¶å™¨</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RestController</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RequestMapping</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">TestController</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Resource</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">AsyncManager</span><span style="color:#BABED8;"> resourceManager</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RequestMapping</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/login</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">String</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    resourceManager</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">execute</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">TaskFactory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">recordLoginInfo</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">admin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ç™»é™†æˆåŠŸ</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-c4b0d3cf data-v-face870a><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-b2cf3e0b data-v-2f86ebd2><div class="container" data-v-2f86ebd2><p class="message" data-v-2f86ebd2>Released under the MIT License.</p><p class="copyright" data-v-2f86ebd2>Copyright Â© 2019-2023present SilenceLambs</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"view_boot_admin_admin-01.md\":\"d879ebe8\",\"index.md\":\"843777dd\",\"view_boot_client_client-08.md\":\"b0db977e\",\"view_boot_client_client-10.md\":\"da67af37\",\"view_index_nav.md\":\"5a20d098\",\"view_boot_client_client-02.md\":\"8522976f\",\"view_boot_client_client-04.md\":\"0de855b4\",\"view_boot_client_client-12.md\":\"a752f230\",\"view_index_ahua.md\":\"c81faf42\",\"view_boot_client_client-09.md\":\"72d93fb5\",\"view_boot_client_client-11.md\":\"5d53f39f\",\"view_boot_client_client-05.md\":\"956ca3f5\",\"view_boot_client_client-13.md\":\"ac0f0f8b\",\"view_boot_client_client-03.md\":\"03ebe81a\",\"view_boot_client_client-07.md\":\"280b9f35\",\"view_boot_client_client-06.md\":\"f76f18a0\",\"view_boot_client_client-01.md\":\"2a198710\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"é¡¹ç›®ç¬”è®°æ¨¡æ¿\",\"titleTemplate\":\"é¡¹ç›®ç¬”è®°æ¨¡æ¿\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"i18nRouting\":false,\"nav\":[{\"text\":\"é¡¹ç›®æ­å»º\",\"link\":\"view/base/base-01\",\"activeMatch\":\"^/view\"},{\"text\":\"è¿›é˜¶é…ç½®\",\"link\":\"view/front/front-01\",\"activeMatch\":\"^/view\"}],\"sidebar\":{\"/view/boot/click/\":[{\"text\":\"ç¬¬ä¸€ç« ï¼šé¡¹ç›®å¿«é€Ÿå¼€å§‹\",\"collapsed\":true,\"items\":[{\"text\":\"1ğŸŒ³é¡¹ç›®æ­å»º\",\"link\":\"/view/click/click-01\"},{\"text\":\"2ğŸŒ³å¼‚å¸¸ç®¡ç†\",\"link\":\"/view/click/click-02\"},{\"text\":\"3ğŸŒ³Mybatis\",\"link\":\"/view/web/web-03\"},{\"text\":\"4ğŸŒ³å¼‚æ­¥ä»»åŠ¡\",\"link\":\"/view/web/web-04\"},{\"text\":\"5ğŸŒ³ç¼“å­˜é…ç½®\",\"link\":\"/view/web/web-05\"}]},{\"text\":\"ç¬¬äºŒç« ï¼šç™»å½•æƒé™è®¤è¯\",\"collapsed\":true,\"items\":[{\"text\":\"1ğŸŒ³åŸºç¡€é…ç½®\",\"link\":\"/view/web/web-06\"},{\"text\":\"2ğŸŒ³å®‰å…¨è®¤è¯\",\"link\":\"/view/web/web-07\"},{\"text\":\"3ğŸŒ³æƒé™æ ¡éªŒ\",\"link\":\"/view/web/web-08\"},{\"text\":\"4ğŸŒ³é™æµç®¡ç†\",\"link\":\"/view/web/web-09\"},{\"text\":\"5ğŸŒ³é‡å¤æäº¤\",\"link\":\"/view/web/web-10\"}]},{\"text\":\"ç¬¬ä¸‰ç« ï¼šæ•´åˆå®šæ—¶ä»»åŠ¡\",\"collapsed\":true,\"items\":[{\"text\":\"1ğŸŒ³å®šä¹‰å¸¸é‡\",\"link\":\"/view/web/web-11\"},{\"text\":\"2ğŸŒ³æ ¸å¿ƒå·¥å…·\",\"link\":\"/view/web/web-12\"},{\"text\":\"3ğŸŒ³å®šæ—¶ä»»åŠ¡\",\"link\":\"/view/web/web-13\"}]}]},\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"},\"outline\":{\"level\":\"deep\",\"label\":\"æœ¬é¡µç›®å½•\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright Â© 2019-2023present SilenceLambs\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"github\"}],\"darkModeSwitchLabel\":\"å¤–è§‚\",\"returnToTopLabel\":\"è¿”å›é¡¶éƒ¨\",\"lastUpdatedText\":\"ä¸Šæ¬¡æ›´æ–°\",\"sidebarMenuLabel\":\"ç›®å½•\"},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}")</script>
    
  </body>
</html>